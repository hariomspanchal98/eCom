<app-navbar></app-navbar>

<div class="parent">

  <form class="child" [formGroup]="myForm">
    <h4 style="text-align: center; font-weight: bold;">Update Product</h4>
    <hr>
    <br>
    <label>Name</label>
    <input type="text" class="validate" placeholder="Enter product name" formControlName="name">

    <!-- <label>Description</label>
    <textarea type="text" placeholder="Enter Description" formControlName="description" style="height: 100px;"></textarea> -->

    <quill-editor [styles]="{height: '200px'}" formControlName="description">
    </quill-editor>

    <label>Price</label>
    <input type="text" class="validate" placeholder="Enter product name" formControlName="price">
    
    <div style="display: flex;flex-wrap: wrap;">
      <div *ngFor="let image of product?.images; let i = index" class="preview">
        <img [src]=image?.url>
        <a class="remove-image" style="display: inline;" (click)="removeImage(i)">&#215;</a>

      </div>
      <div *ngFor="let image of photosArr; let i = index" class="preview">
        <img [src]=image>
        <a class="remove-image" style="display: inline;" (click)="removeImg(i)">&#215;</a>

      </div>
    </div>

    <!-- <div class="mb-3">
      <label for="formFileMultiple" class="form-label">Choose Images</label>
      <input class="form-control" type="file" id="formFileMultiple" multiple (change)="onFileSelected($event)">
    </div> -->

    <label>Product Images</label>
    <div class="custom-dropzone" ngx-dropzone [accept]="'image/*'" (change)="onFileSelected($event)">
      <ngx-dropzone-label>
        <div>
          <h2>My custom dropzone</h2>
        </div>
      </ngx-dropzone-label>
      <!-- <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of newPhotos" [file]="f" [removable]="true" (removed)="removeImg(f)">
      </ngx-dropzone-image-preview> -->
    </div>
    <br>

    <div *ngIf="errorMsg" class="alert alert-danger" role="alert">
      {{errorMsg}}
    </div>

    <button type="button" class="btn green" [disabled]="myForm.invalid" (click)="update()">Submit</button>
    <button class="btn red">Reset</button>

    <br>
    <!-- <p>Already have an account, sign in <a [routerLink]="['/auth/login']" style="cursor: pointer;">here</a></p> -->
  </form>
</div>
